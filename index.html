<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart City Tourism Guide</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function checkAuth() {
            fetch("check_session.php")
                .then(response => response.json())
                .then(data => {
                    if (!data.loggedIn) {
                        window.location.href = "signin.html";  // Redirect if not logged in
                    } else {
                        document.getElementById("username").textContent = data.username;
                    }
                })
                .catch(error => console.log(error));
        }

        function logoutUser() {
            fetch("logout.php")
                .then(() => {
                    window.location.href = "signin.html";  // Redirect after logout
                });
        }

        window.onload = checkAuth;
    </script>
</head>

<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
                    <circle cx="12" cy="10" r="3" />
                </svg>
                <span>Smart City Tourism Guide</span>
            </div>
            <div class="nav-links">
                <a href="index.html">
                    <button onclick="showSection('explore')" class="nav-btn active">Explore Cities</button>
                </a>
                <a href="tempo.html">
                    <button class="nav-btn">Travel Packages</button>
                </a>
                <a href="visitor.html">
                    <button onclick="showSection('feedback')" class="nav-btn">Visitor Feedback</button>
                </a>
                <a href="feedback.html">
                    <button class="nav-btn">Add Feedback</button>
                </a>
                <button class="nav-btn logout-btn" onclick="logoutUser()">Logout</button>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <div class="welcome-message">
            <h2>Welcome, <span id="username"></span>!</h2>
        </div>

        <!-- Explore Cities Section -->
        <section id="explore" class="section active">
            <div class="city-selector">
                <h2>Explore Cities</h2>
                <div class="city-grid" id="cityGrid"></div>
            </div>

            <div id="touristSpots" class="tourist-spots hidden">
                <h2>Tourist Spots in <span id="selectedCityName"></span></h2>
                <div class="spots-grid" id="spotsGrid"></div>
            </div>
        </section>

        <!-- Travel Packages Section -->
        <!-- <section id="packages" class="section">
            <h2>Recommended Travel Packages</h2>
            <div id="packagesGrid" class="packages-grid"></div>
        </section> -->

        <!-- Visitor Feedback Section -->
        <!-- <section id="feedback" class="section">
            <h2>Visitor Feedback</h2>
            <div class="feedback-stats" id="feedbackStats"></div>
            <div class="feedback-grid" id="feedbackGrid"></div>
        </section> -->

    </main>

    <script src="app.js"></script>
</body>

</html>